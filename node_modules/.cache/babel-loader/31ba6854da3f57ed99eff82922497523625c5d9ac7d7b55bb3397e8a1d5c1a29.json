{"ast":null,"code":"var _jsxFileName = \"/home/ricky/Development/Phase 4/Clone/SoundScape/client/src/components/AlbumPage.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport '../css/AlbumPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AlbumPage(_ref) {\n  _s();\n  let {\n    album,\n    user\n  } = _ref;\n  const {\n    id,\n    image,\n    title\n  } = album;\n  const [liked, setLiked] = useState(false);\n  function truncate(str, n) {\n    return (str === null || str === void 0 ? void 0 : str.length) > n ? str.substr(0, n - 1) + \"...\" : str;\n  }\n  const likedAlbum = {\n    user_id: user ? user.id : 1,\n    album_id: album.id\n  };\n  function handleAddAlbum() {\n    fetch('/user_albums', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify(likedAlbum)\n    });\n    setLiked(true);\n  }\n  let selectedAlbumId;\n  user ? selectedAlbumId = user.user_albums.map(userAlbum => userAlbum.album).map(userAlbum => userAlbum.id) : selectedAlbumId = [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"albumpage_container\",\n    children: [/*#__PURE__*/_jsxDEV(NavLink, {\n      to: `/albums/${album.id}`,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image,\n        alt: title,\n        className: \"albumpage_image\"\n      }, id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"albumpage_info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column_one\",\n        children: /*#__PURE__*/_jsxDEV(NavLink, {\n          to: `/albums/${album.id}`,\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: truncate(album.title, 14)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column_two\",\n        children: user ? selectedAlbumId.indexOf(id) !== -1 || liked ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-heart albumheart liked\",\n          onClick: handleAddAlbum,\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"16\",\n            height: \"16\",\n            fill: \"currentColor\",\n            className: \"bi bi-heart-fill\",\n            viewBox: \"0 0 16 16\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 136\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 61\n        }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-heart albumheart\",\n          onClick: handleAddAlbum,\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"16\",\n            height: \"16\",\n            fill: \"currentColor\",\n            className: \"bi bi-heart-fill\",\n            viewBox: \"0 0 16 16\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 3\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 95\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 26\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n_s(AlbumPage, \"5oFMLl0KA2P+7Df5hTCAaQ+yYE8=\");\n_c = AlbumPage;\nexport default AlbumPage;\nvar _c;\n$RefreshReg$(_c, \"AlbumPage\");","map":{"version":3,"names":["useState","NavLink","jsxDEV","_jsxDEV","AlbumPage","_ref","_s","album","user","id","image","title","liked","setLiked","truncate","str","n","length","substr","likedAlbum","user_id","album_id","handleAddAlbum","fetch","method","headers","Accept","body","JSON","stringify","selectedAlbumId","user_albums","map","userAlbum","className","children","to","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","indexOf","onClick","xmlns","width","height","fill","viewBox","fillRule","d","_c","$RefreshReg$"],"sources":["/home/ricky/Development/Phase 4/Clone/SoundScape/client/src/components/AlbumPage.js"],"sourcesContent":["import { useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport '../css/AlbumPage.css'\n\nfunction AlbumPage({ album, user}){\n    const {id, image, title} = album\n    \n  const [liked, setLiked] = useState(false) \n\n  function truncate(str, n) {\n    return str?.length > n ? str.substr(0, n - 1) + \"...\" : str;\n  }\n\n  const likedAlbum = {\n    user_id: user ? user.id : 1, album_id: album.id\n  }\n\n  function handleAddAlbum() {\n    fetch('/user_albums', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n      body: JSON.stringify(likedAlbum)\n    })\n    setLiked(true)\n  }\n\n\n  let selectedAlbumId;    \n\n  user ? selectedAlbumId = user.user_albums.map(userAlbum => userAlbum.album).map(userAlbum => userAlbum.id) : selectedAlbumId = []\n\n\n    return(\n        <div className=\"albumpage_container\">\n\n        <NavLink  to={`/albums/${album.id}`}>\n          <img \n                key={id} \n                src={image} \n                alt={title}\n                className=\"albumpage_image\"/>\n        </NavLink>\n  \n        <div className=\"albumpage_info\">\n  \n          <div className=\"column_one\">\n            <NavLink  to={`/albums/${album.id}`}>\n              <h3>{truncate(album.title, 14)}</h3>\n            </NavLink>\n              \n          </div>\n  \n          <div className=\"column_two\">\n  \n            {user ? \n            \n              selectedAlbumId.indexOf(id) !== -1 || liked ? <i className=\"fa-solid fa-heart albumheart liked\" onClick={handleAddAlbum}><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-heart-fill\" viewBox=\"0 0 16 16\">\n              <path fillRule=\"evenodd\" d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"/>\n            </svg></i> : <i className=\"fa-solid fa-heart albumheart\" onClick={handleAddAlbum}><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-heart-fill\" viewBox=\"0 0 16 16\">\n  <path fillRule=\"evenodd\" d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"/>\n</svg></i> \n  \n              :\n  \n              null\n          \n            }\n  \n          </div>\n  \n        </div>\n    </div>\n    \n    )\n}\n\nexport default AlbumPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}